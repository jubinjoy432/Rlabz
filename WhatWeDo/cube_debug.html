<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cube Debug Test</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.css" />
    <style>
        body {
            margin: 50px;
            font-family: Arial, sans-serif;
        }

        .cube-swiper {
            width: 400px;
            height: 490px;
            background: #f0f0f0;
            border: 2px solid #333;
        }

        .swiper-slide {
            background: #fff;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            font-weight: bold;
        }

        #debug-output {
            margin-top: 20px;
            padding: 15px;
            background: #eee;
            border: 1px solid #ccc;
            border-radius: 4px;
        }
    </style>
</head>

<body>
    <h1>Cube Slider Debug Test</h1>

    <div class="swiper cube-swiper">
        <div class="swiper-wrapper">
            <!-- Slides will be injected here -->
        </div>
    </div>

    <div id="debug-output">
        <h3>Debug Info:</h3>
        <pre id="debug-text">Loading...</pre>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.js"></script>
    <script>
        const debugText = document.getElementById('debug-text');
        const cubeWrapper = document.querySelector('.cube-swiper .swiper-wrapper');

        let debug = '';
        debug += `cubeWrapper found: ${cubeWrapper !== null}\n`;
        debug += `Swiper loaded: ${typeof Swiper !== 'undefined'}\n\n`;

        // Test data
        const testProjects = {
            1: { title: "Project 1", img: "https://via.placeholder.com/400" },
            2: { title: "Project 2", img: "https://via.placeholder.com/400/ff0000" },
            3: { title: "Project 3", img: "https://via.placeholder.com/400/00ff00" }
        };

        if (cubeWrapper && typeof Swiper !== 'undefined') {
            const projectIds = Object.keys(testProjects);

            projectIds.forEach(id => {
                const p = testProjects[id];
                const slide = document.createElement('div');
                slide.className = 'swiper-slide';
                slide.innerHTML = p.title;
                cubeWrapper.appendChild(slide);
            });

            debug += `Slides added: ${cubeWrapper.children.length}\n\n`;

            try {
                const cubeSwiper = new Swiper(".cube-swiper", {
                    effect: "cube",
                    grabCursor: true,
                    loop: true,
                    speed: 1000,
                    cubeEffect: {
                        shadow: false,
                        slideShadows: true,
                        shadowOffset: 10,
                        shadowScale: 0.94,
                    }
                });

                debug += `Swiper initialized successfully!\n`;
                debug += `Active slide: ${cubeSwiper.realIndex}`;
            } catch (error) {
                debug += `ERROR initializing Swiper:\n${error.message}\n${error.stack}`;
            }
        } else {
            debug += `PROBLEM:\n`;
            if (!cubeWrapper) debug += `- cubeWrapper not found!\n`;
            if (typeof Swiper === 'undefined') debug += `- Swiper library not loaded!\n`;
        }

        debugText.textContent = debug;
    </script>
</body>

</html>